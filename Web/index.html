<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title> MRI Atlases - NIH-NIBIB-QMI </title>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
    <!-- Custom styles for this template -->
    <link href="css/agency_blue.css" rel="stylesheet">    
  </head>
  
  <body id="page-top">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav"></nav>
    
    <!-- Header -->    
    
    <header class="masthead"><div class="container" id="mhead"></div></header>
    <div id="projectContent" class="embed-responsive embed-responsive-16by9" width="100vw" height="100vh"></div>
    <div id="landingContent">
        <!-- Services     
        <section class="bg-light" id="services"> </section>
        -->      
        <!-- About  -->
        <section id="about"></section>
        <!-- Project Grid -->
        <section class="bg-light" id="portfolio">    
            <div class="container">
                <div class="row">
                  <div class="col-lg-12 text-center">
                    <h2 class="section-heading text-uppercase">Projects</h2>
                    <h3 class="section-subheading text-muted">Click on a project below to learn more and explore.</h3>
                  </div>
                </div>
                <div class="row">                
                    <div class="col-md-4 col-sm-6 portfolio-item" id="project1"></div>
                    <div class="col-md-4 col-sm-6 portfolio-item" id="project2"></div>
                    <div class="col-md-4 col-sm-6 portfolio-item" id="project3"></div>                          
                </div>
				<div class="row">                
                    <div class="col-md-4 col-sm-6 text-center"><button class="btn btn-primary" data-dismiss="modal" type="button" text="Explore" id="project1_explore" alt="Ferret Brain Template">Explore <i class="fa fa-play"> </i></button></div>
                    <div class="col-md-4 col-sm-6 text-center"><button disabled class="btn btn-primary" data-dismiss="modal" type="button" text="Explore" id="project2_explore" alt="Human Brainstem Templates coming soon">Explore <i class="fa fa-play"> </i></button></div>
                    <div class="col-md-4 col-sm-6 text-center"><button disabled class="btn btn-primary" data-dismiss="modal" type="button" text="Explore" id="project3_explore" alt="Peds DTI Templates coming soon">Explore <i class="fa fa-play"> </i></button></div>                          
                </div>
            </div>    
        </section>
               
        <!-- Team -->
        <section id="team">
            <div class="container">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading text-uppercase">MRI Atlases Team</h2>
                    <h3 class="section-subheading text-muted">Meet the contributors to the NIH MRI Atlases online exploration tool!</h3>
                </div>
                <div class="row">
                    <div class="col-sm-4" id="member1"></div>
                    <div class="col-sm-4" id="member2"></div>
                    <div class="col-sm-4" id="member3"></div>
                    <div class="col-sm-4" id="member4"></div>
                    <div class="col-sm-4" id="member5"></div>
                </div>
                <div class="col-lg-8 mx-auto text-center">
                    <p class="large text-muted">The core contributors are members of NIH NIBIB QMI section, Bethesda Maryland.</p>
                </div>    
            </div>    
        </section>
        <!-- Contact -->
        <section id="contact"></section>
        <!-- Footer -->
        <footer> <div id="d_footer"></div> </footer>
        <!-- Portfolio Modals -->
        <div class="portfolio-modal modal fade" id="project1_more" tabindex="-1" role="dialog" aria-hidden="true"></div>    
        <div class="portfolio-modal modal fade" id="project2_more" tabindex="-1" role="dialog" aria-hidden="true"></div>
        <div class="portfolio-modal modal fade" id="project3_more" tabindex="-1" role="dialog" aria-hidden="true"></div>
        
    </div>
    
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <!-- Contact form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>
    <!-- Custom scripts for this template -->
    <script src="js/agency.js"></script>        
    <!-- Custom scripts site -->
    <script src="js/BootstrapHelper.js"></script>    
    <script src="js/MriAtlasHelper.js"></script>       
    

    <script type="text/javascript">    
    
        $(document).ready (function(){
            console.log("MHelper inits");
            

            console.log("data loaded?");
            
                var params1=[];
                var params2=[];
                var params3=[];
                var params4=[];
                                
                params1["images"] =  [                                            
                                        "ferret-project/Web/img/linked_content/Templates/DTI_exvivo/Volumes/ExVivo_DTI_FA.nii", 
                                        "ferret-project/Web/img/linked_content/Templates/DTI_exvivo/Volumes/ExVivo_DTI_DEC.nii", 
                                        "ferret-project/Web/img/linked_content/Templates/DTI_exvivo/Volumes/ExVivo_DTI_TR.nii",
                                        "ferret-project/Web/img/linked_content/Templates/DTI_exvivo/ROIs/Anatomy/evDTI_SEGMENTATION.dcm"
                                    ];                
                params1["ExVivo_DTI_FA.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1};
                params1["ExVivo_DTI_DEC.nii"] = {"min": 0, "max": 255}; 
                params1["ExVivo_DTI_TR.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500};        
                
                //params1["luts"] = [{"name": "Custom", "data":[[0, 1, 0, 0], [.5, 1, 1, 0], [1, 1, 1, 1]]}];
                params1["evDTI_SEGMENTATION.dcm"]  = {"lut": "Ev Dti Seg", "min": 0, "max": 1};
                 
                params1.showControls = false; 
                //params1["contextManager"] = ctxMgr1;
                
                //  TBD - put this back in when we get info on the ROIs
                //ui.LoadNewSurfaces(image_map[current_image],0);
                
                using_surfaces = false;
                
                //  This just loads the main 3d whole brain surface volume
                //ui.LoadMainSurface();            
                params2["kioskMode"] = true;                        
                                
                params2["images"] =  [                                            
                                        "ferret-project/Web/img/linked_content/Templates/DTI_invivo/Volumes/InVivo_DTI_FA.nii", 
                                        "ferret-project/Web/img/linked_content/Templates/DTI_invivo/Volumes/InVivo_DTI_DEC.nii", 
                                        "ferret-project/Web/img/linked_content/Templates/DTI_invivo/Volumes/InVivo_DTI_TR.nii",
                                     ];  
                           
                params2["InVivo_DTI_FA.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1};
                params2["InVivo_DTI_DEC.nii"] = {"min": 0, "max": 255}; 
                params2["InVivo_DTI_TR.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 6000};                  
                
                params2.showControls = false;          
                //params2["contextManager"] = ctxMgr2;            
                    
                params3["kioskMode"] = true;      
                
                params3["images"] =  [  
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE010.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE020.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE030.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE040.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE050.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE060.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE070.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE080.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE090.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_exvivo/Volumes/Template4D_TE100.nii"
                                     ];                                                               
                params3["Template4D_TE010.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE020.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE030.nii"] ={"lut": "Hot-Cool", "min": 0, "max":  1500000};
                params3["Template4D_TE040.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE050.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE060.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE070.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE080.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE090.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};
                params3["Template4D_TE100.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 1500000};                
                
                params3.showControls = false              
                //params3["contextManager"] = ctxMgr3;  
                    
                params4["kioskMode"] = true;    
                
                params4["images"] =  [
                                        "ferret-project/Web/img/linked_content/Templates/T2_invivo/Volumes/ivT2_TE012.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_invivo/Volumes/ivT2_TE036.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_invivo/Volumes/ivT2_TE060.nii",
                                        "ferret-project/Web/img/linked_content/Templates/T2_invivo/Volumes/ivT2_TE084.nii",                                             
                                     ];  
                params4["ivT2_TE012.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 100};
                params4["ivT2_TE036.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 100};
                params4["ivT2_TE060.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 100};
                params4["ivT2_TE084.nii"] = {"lut": "Hot-Cool", "min": 0, "max": 100};
                                                                      
                
                params4.showControls = false   
            
            
            var mh = MriAtlasHelper();
            mh.Init();            

            //  ferret ui
            mh.AddProject({    'modal_div':"#project1_more",
                                                'grid_div':"#project1",
                                                'project_url': "ferret-project/Web/index.html",
                                                'name':'Ferret Template',
                                                'maps':['T2-weighted','DTI (DEC, FA, Trace)'],
                                                'species':'Ferret',
                                                'image':"img/portfolio/ferret-full.jpg",
                                                'thumbnail':"img/portfolio/ferret-thumbnail.jpg",
                                                'modalities':['ex-vivo','in-vivo'],
                                                'description_short':'A collection of whole-brain diffusion MRI and relaxometry templates.',
                                                'description_long':'This is a collection of in-vivo and ex-vivo Ferret templates.  \
                                                ROI segmentation has been performed and ...please insert more text here about \
                                                specifics for this project...',
                                                'citation':"Hutchinson, E.B.; Schwerin, S.C.; Radomski, K.L.; Sadeghi, N.; Jenkins, J.; Komlosh, M.E.; Irfanoglu, M.O.; Juliano, S.L.; and Pierpaoli, C., \"Population based MRI and DTI templates of the adult ferret brain and tools for voxelwise analysis\" (2017). Uniformed Services University of the Health Sciences. 190."});            
            //  human brainstem                 
            mh.AddProject({    'modal_div':"#project2_more",
                                                'grid_div':"#project2",
                                                'project_url': "brainstem-project/Web/index.html",
                                                'name':'Human Brainstem',
                                                'maps':['T2-weighted','DTI (DEC, FA, Trace)'],
                                                'species':'Human',
                                                'image':"img/portfolio/brainstem-full.jpg",
                                                'thumbnail':"img/portfolio/brainstem-thumbnail.jpg",
                                                'modalities':['ex-vivo'],
                                                'description_short':'A collection of brainstem diffusion MRI and relaxometry templates.',
                                                'description_long':'This is a collection of ex-vivo Human brainstem templates.  \
                                                ROI segmentation has been performed and ...please insert more text here about \
                                                specifics for this project...',
                                                'citation':"Cibu Thomas, Frank Q. Ye, M. Okan Irfanoglu, Pooja Modi, Kadharbatcha S. Saleem, David A. Leopold, and Carlo Pierpaoli, \"Anatomical accuracy of brain connections derived from diffusion MRI tractography is inherently limited\", PNAS 2014 111 (46) 16574-16579; published ahead of print November 3, 2014, doi:10.1073/pnas.1405672111"});        
            //  aging project
            mh.AddProject({    'modal_div':"#project3_more",
                                                'grid_div':"#project3",
                                                'project_url': "aging-project/Web/index.html",
                                                'name':'PedsDTI',
                                                'maps':['T2-weighted','DTI (DEC, FA, Trace)'],
                                                'species':'Human',
                                                'image':"img/portfolio/aging-full.png",
                                                'thumbnail':"img/portfolio/pedsdti.jpg",
                                                'modalities':['in-vivo'],
                                                'description_short':'The diffusion tensor imaging (DTI) component of the NIH MRI study of normal brain development ',
                                                'description_long':'This is a collection of in-vivo Human brain templates which are found at <a href="https://pediatricmri.nih.gov/nihpd/info/index.html">The NIH MRI Study of Normal Brain Development</a> data repository.  \
                                                Multiple age cohorts, or "Objectives" are represented in this multi-site longitudinal study with anatomical MRI, DTI, and MR Spectroscopy.',
                                                'citation':"Walker, Lindsay; Chang, Lin-Ching; Nayak, Amritha et al. (2016) The diffusion tensor imaging (DTI) component of the NIH MRI study of normal brain development (PedsDTI). Neuroimage 124:1125-30"}); 
            //  member 1
            mh.AddTeamMember({    'div': "#member1",
                                                            'name': "Elizabeth Hutchinson",
                                                            'image': "img/team/eh.png",
                                                            'description': "Neuroscientist - Ph.D. (HJF)",
                                                            'website': "https://www.researchgate.net/profile/Elizabeth_Hutchinson"});                                
            //  member 2
            mh.AddTeamMember({    'div': "#member2",
                                                            'name': "Carlo Pierpaoli",
                                                            'image': "img/team/cp.jpg",
                                                            'description': "Principal Investigator - M.D, Ph.D (NIH)",
                                                            'website': "https://scholar.google.com/citations?user=sF8PNIIAAAAJ&hl=en"});      
            //  member 3
            mh.AddTeamMember({    'div': "#member3",
                                                            'name': "Okan Irfanoglu",
                                                            'image': "img/team/oi.jpg",
                                                            'description': "Staff Scientist - Ph.D (NIH)",
                                                            'website': "https://www.researchgate.net/profile/Mustafa_Irfanoglu"});        
            //  member 4
            mh.AddTeamMember({    'div': "#member4",
                                                            'name': "Jeff Jenkins",
                                                            'image': "img/team/jj.jpg",
                                                            'description': "Computer Scientist - PhD. Candidate (CUA)",
                                                            'website': "https://www.researchgate.net/profile/Jeffrey_Jenkins9"});
                                            //  member 5
            mh.AddTeamMember({    'div': "#member5",
                                                            'name': "Amritha Nayak",
                                                            'image': "img/team/an.jpeg",
                                                            'description': "Image Scientist - M.S. BME (HJF)",
                                                            'website': "https://www.researchgate.net/profile/Amritha_Nayak"});
                                                           
            //  build page content
            mh.Generate();
                        
            $("#project1").keypress(function(e){
                if(e.which == 13){//Enter key pressed
                    $('#project1').click();//Trigger search button click event
                }
            });            
        });            
        var callback = function() {
            $("#project1").click()
        };
        $("input").keypress(function() {
            if (e.key === " " || e.key === "Enter")  callback();
        });
        var handleBtnKeyPress = function(e)
        {
                console.log("BTNPRESS");
                console.log(e.target.id)
                if (e.key === " " || e.key === "Enter") {
                    console.log("enter or space was pressed")
              }
        };
        var handleBtnClick = function(e)
        {            
        };
                    
    </script>
  </body>
</html>
